var K=Object.defineProperty;var D=(t,i,e)=>i in t?K(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e;var n=(t,i,e)=>(D(t,typeof i!="symbol"?i+"":i,e),e);const G=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))A(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&A(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerpolicy&&(h.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?h.credentials="include":s.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function A(s){if(s.ep)return;s.ep=!0;const h=e(s);fetch(s.href,h)}};G();const V="/sec-space-invaders/assets/game-bg.9b84adea.png",o=document.querySelector("canvas");o.width=1024;o.height=576;const r=o.getContext("2d"),f=document.querySelector("#text"),W=document.querySelector("#levelEl"),j=document.querySelector("#scoreEl");document.querySelector("#leaderboard-list");const X=document.querySelector("#score-form"),w=document.querySelector("#lives");function F(t,i){r.clearRect(0,0,o.width,o.height),requestAnimationFrame(()=>F(t,i)),r.fillRect(0,0,o.width,o.height);let e=new Image;e.src=V,e.onload=()=>{r.drawImage(e,0,0,o.width,o.height)},r.fillStyle="white",r.textAlign="center",r.font="64px Pixeloid Sans",r.fillText(`${i?"CONGRATULATIONS":"GAME OVER"}`,o.width/2,o.height/2),r.fillText(`${t}`,o.width/2,o.height/2+100),r.fillStyle="#150D1F",!f.classList.contains("hide")&&f.classList.add("hide"),!w.classList.contains("hide")&&w.classList.add("hide")}const Z="/sec-space-invaders/assets/intro-bg.1bc35618.png";function J(){let t=new Image;t.src=Z,t.onload=()=>{r.drawImage(t,0,0,o.width,o.height)},!f.classList.contains("hide")&&f.classList.add("hide"),!w.classList.contains("hide")&&w.classList.add("hide")}const $="/sec-space-invaders/assets/prizes-pg.94a9d743.png";function _(){let t=new Image;t.src=$,t.onload=()=>{r.drawImage(t,0,0,o.width,o.height)},!f.classList.contains("hide")&&f.classList.add("hide"),!w.classList.contains("hide")&&w.classList.add("hide")}const tt="data:image/png;base64,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";class P{constructor({position:i,velocity:e},A){n(this,"position");n(this,"velocity");n(this,"canvasContext");this.position=i,this.velocity=e,this.canvasContext=A.getContext("2d")}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}class et extends P{constructor({position:e,velocity:A},s){super({position:e,velocity:A},s);n(this,"width");n(this,"height");this.width=3,this.height=10}draw(){this.canvasContext.fillStyle="red",this.canvasContext.fillRect(this.position.x,this.position.y,this.width,this.height)}}class U{constructor({position:i},e){n(this,"posititon");n(this,"velocity");n(this,"image");n(this,"width");n(this,"height");n(this,"canvasContext");this.velocity={x:0,y:0};const A=new Image;A.src=e,A.onload=()=>{this.image=A,this.width=A.width*1,this.height=A.height*1,this.posititon={x:i.x,y:i.y}},this.canvasContext=o.getContext("2d")}draw(){this.canvasContext.drawImage(this.image,this.posititon.x,this.posititon.y,this.width,this.height)}update({velocity:i}){this.image&&(this.draw(),this.posititon.x+=i.x,this.posititon.y+=i.y)}shoot(i){i.push(new et({position:{x:this.posititon.x+this.width/2,y:this.posititon.y+this.height},velocity:{x:0,y:5}},o))}}class b extends U{constructor({position:i}){super({position:i},tt)}}const it="data:image/png;base64,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";class g{constructor(i){n(this,"posititon");n(this,"width");n(this,"height");n(this,"image");n(this,"canvasContext");const e=new Image;e.src=it,e.onload=()=>{this.image=e,this.width=e.width*.4,this.height=e.height*.4,this.posititon={x:i||0,y:o.height/2}},this.canvasContext=r}draw(){this.canvasContext.save(),this.canvasContext.drawImage(this.image,this.posititon.x,this.posititon.y,this.width,this.height),this.canvasContext.restore()}update(){this.image&&this.draw()}}class st extends P{constructor({position:e,velocity:A},s,h,c,C){super({position:e,velocity:A},s);n(this,"radius");n(this,"color");n(this,"opacity");n(this,"text");this.radius=h,this.color=c,this.opacity=1,this.text=C}draw(){this.canvasContext.save(),this.canvasContext.globalAlpha=this.opacity,this.canvasContext.beginPath(),this.canvasContext.font="12px Pixeloid Sans",this.canvasContext.fillStyle=this.color,this.canvasContext.fillText(this.text,this.position.x,this.position.y),this.canvasContext.fill(),this.canvasContext.closePath(),this.canvasContext.restore()}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.opacity-=.01}}function R({particles:t,object:i,color:e},A){for(let s=0;s<5;s++)t.push(new st({position:{x:i.posititon.x+i.width/2,y:i.posititon.y+i.height/2},velocity:{x:(Math.random()-.5)*3,y:(Math.random()-.5)*3}},o,Math.random()*3,e||"#FFA500",A))}const nt="data:image/png;base64,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";class Y extends U{constructor({position:i}){super({position:i},nt)}}class I{constructor(i,e,A){n(this,"position");n(this,"velocity");n(this,"invaders");n(this,"width");n(this,"descend");this.descend=A,this.position={x:0,y:0},this.velocity={x:e||0,y:typeof this.descend=="number"?this.descend:0},this.invaders=[];const s=i[0].length,h=i.length;this.width=s*60;let c=i.flat();for(let C=0;C<s;C++)for(let d=0;d<h;d++)switch(c.shift()){case 1:this.invaders.push(new Y({position:{x:C*60,y:d*60}}));break;case 2:this.invaders.push(new b({position:{x:C*60,y:d*60}}));break}}update(){typeof this.descend=="boolean"&&(this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y=0,(this.position.x+this.width>=o.width||this.position.x<=0)&&(this.velocity.x=-this.velocity.x,this.velocity.y=this.descend?10:0))}}const ot=document.querySelectorAll("img.heart"),At=document.querySelectorAll("img.heart-outline"),at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAAC3CAYAAADetIbjAAAACXBIWXMAAAsSAAALEgHS3X78AAAFRklEQVR4nO3dz2sjZRzH8afJtElMUmMq2PXHburBH6f1oKuezJwW8dCzAaF/wnrxIIIK4sGTf0JO8x8o1stkV2RZ8dCTCipGBdmyoHW3Q4emSWU+GwTF7nzj5ve8X9BTn2YmyZtMM5M8z8rp6anLkjDsPOec+zjlLrd9v9nO0uPizcE+TFvNOfdKyjY7y3e37y03zzuH6SEECCFACAFCCBBCgBAChBAghAAhBAghQAgBQggQQoAQAoQQIIQAIQQIIUAIAUIIEEKAEAKEECCEACEEyNJ99zEMOx3DV9ru11XfbzYnf2+mh1cECCFACAFCCBBCgBAChBAghABZiBNKQRBYJsCScrmymc/ni5Pcn36/H0fR4U3j8Har1Zr7ibkWZTItywRYEkWHk9+bu542jluIibk4NEAIAUIIEEKAEAKEECCEACEECCFACAFCCBBCgBAChBAghAAhBAghQAgBQggQQoAQAoQQIJlaG/rbXtl9cNAwjX2n1nXPrkYT36d5wSsChBAghAAhBAghQAgBQggQQoAQAoQQIDOdOicMOzvOuZ20cYPBoLa/f/PiWb+/Ftf0kyY6zbtfTmyz6pz3Ylde6aeOu+DF7o3K2bPo1OsbNwqFQmzY5J7vN6+Ydm4CZn2toWGZEieXu/cL163+mq4jjJM1mDT5fH4z6WWsOzcBHBoghAAhBAghQAgBQggQQoAQAoQQIF4QBA3Lad6hZKbxbtqg4aljy8eFx7Jk3vnfv3Gv//brOG5qZIXKg87VnhzHTTXCsPOeZaDvN03jgiAwjUsmDveGT9i71j9wzqWGMAxr0msv/q12fOBu/bk/rc39QzXXc86NJYQLIzwP1ifYenscGnAXIUAIAUIIEEKAEAKEECCEACEEyFJMlFEqlVz9ofpMtr1erc5ku+M2UggbGxthGM7fepaPP/qYfrIiDDtj/w4ChwYIIUAIAUIIEEKAEAKEECCEACEECCFACAFCCBBCgBAChBAghAAhBAghQDK1uFfvpOdu375jGru+XnWr3urE92leZCqEJIIbX39lGvvi85fcRn02H4idBQ4NEEKAEAKEECCEACEECCFACAFCCBBCgCzFKebvf/xBPxav/XFkGveJ8VR0Mi/DSy9cup/dnwuZutaQOHecvoRfFnFogBAChBAghAAhBAghQAgBQggQQoDM+sziz8nKcWmD+v1+zTl3cNbvC4VC49wjm6mrynm9XvGoWIstO/bEA/niyepq6thSqZTs195Zv+/3T4qe51m22Zzmgmj/NusQutal66bt1Slvb7jU38xC4NAAIQTIUlx9vPPT5YZl5dmom6t891Hp0HKbz7x1VCk3BpaxB9Wt3TP/R1gUy3IZesey6ungeMV8gyOMvTqupY1niUMDhBAghAAhBAghQCb1riE5ddw1jFv4t11j1B2+A0mTnG6/OO6NTyqE9ryeOp5Xvt9sW667hGEneasajvtucGiAEAKEECCEACEECCFACAFCCBBCgBACZKRTzHEcv7m2VrBcH7BcZ8D/kzz+vvEvzaeiRwohiqK97e3tDk/g7Ph+M/kehek5CILAvJ8cGiCEAFmWTzG3LS+Xa/XBy09diT+03OBaffC2c+66YeiZX8VbJEsRQnVrt2v7B/WyKzxsnlXtenVrNzP/D3FogBAChBAghAAhBAghQLxrX35ROYwi06NRKZcrrVaLR25BfPr5Z6YdLRaLtdxhFJnmC0iMMhaLI47jAw4NkKyt15CcfXx/hLGZkakQhqei+Sref+DQACEECCFACAFCCBCPt1RLzfa8Otf5C7F//ycB+hm6AAAAAElFTkSuQmCC";class ht{constructor(i){n(this,"posititon");n(this,"velocity");n(this,"rotation");n(this,"opacity");n(this,"width");n(this,"height");n(this,"image");n(this,"canvasContext");this.velocity={x:0,y:0},this.rotation=0,this.opacity=1;const e=new Image;e.src=at,e.onload=()=>{this.image=e,this.width=e.width*.3,this.height=e.height*.3,this.posititon={x:i.width/2-this.width/2,y:i.height-this.height-20}},this.canvasContext=i.getContext("2d")}draw(){this.canvasContext.save(),this.canvasContext.globalAlpha=this.opacity,this.canvasContext.drawImage(this.image,this.posititon.x,this.posititon.y,this.width,this.height),this.canvasContext.restore()}update(){this.image&&(this.draw(),this.posititon.x+=this.velocity.x)}}class ct extends P{constructor({position:e,velocity:A},s){super({position:e,velocity:A},s);n(this,"radius");n(this,"width");n(this,"height");this.radius=3,this.width=3,this.height=10}draw(){this.canvasContext.beginPath(),this.canvasContext.arc(this.position.x,this.position.y,this.radius,0,Math.PI*2),this.canvasContext.fillStyle="rgb(159, 90, 253)",this.canvasContext.fill(),this.canvasContext.closePath()}}const M=5,a=new ht(o),E=[],u=[],y=[],v=[],m=[],l={a:{pressed:!1},d:{pressed:!1},ArrowLeft:{pressed:!1},ArrowRight:{pressed:!1},shoot:{pressed:!1}};let O=0,p={over:!1,active:!0},B=0,z=0,Q=5,x=1;function k(){if(!!p.active)return requestAnimationFrame(k),r.fillStyle="#150D1F",r.fillRect(0,0,o.width,o.height),a.update(),m.forEach((t,i)=>{t.opacity<=0?setTimeout(()=>{m.splice(i,1)},0):t.update()}),v.forEach((t,i)=>{if(t.position.y+t.height>=o.height?setTimeout(()=>{v.splice(i,1)},0):t.update(),t.position.y+t.height>=a.posititon.y&&t.position.x+t.width>=a.posititon.x&&t.position.x<=a.posititon.x+a.width){if(Q<=0)return p.over=!1,q();Q--,ot[Q].classList.add("hide"),At[Q].classList.remove("hide"),setTimeout(()=>{v.splice(i,1);const e=setInterval(s,500),A=()=>{z>5&&(z=0,clearInterval(e))};function s(){switch(z++,a.opacity){case 0:a.opacity=1,a.update();break;case 1:a.opacity=0,a.update();break}A()}},0),R({particles:m,object:a,color:"white"},"0")}}),u.forEach((t,i)=>(t.position.y+t.radius<=0&&setTimeout(()=>{u.splice(i,1)},0),t.update())),y.forEach((t,i)=>{if(t.update(),O%100===0&&t.invaders.length>0){const e=t.invaders[Math.floor(Math.random()*t.invaders.length)];e instanceof b&&e.shoot(v)}t.invaders.forEach((e,A)=>{if(e.update({velocity:t.velocity}),e.posititon.y+e.height>=a.posititon.y&&e.posititon.x+e.width>=a.posititon.x&&e.posititon.x<=a.posititon.x+a.width)return p.over=!1,q();u.forEach((s,h)=>{s.position.y-s.radius<=e.posititon.y+e.height&&s.position.x+s.radius>=e.posititon.x&&s.position.x-s.radius<=e.posititon.x+e.width&&s.position.y+s.radius>=e.posititon.y&&setTimeout(()=>{const c=t.invaders.find(d=>d===e),C=u.find(d=>d===s);if(c&&C)if(c instanceof b?(B+=100,R({particles:m,object:e,color:"green"},"+100")):c instanceof Y&&(B-=100,R({particles:m,object:e,color:"red"},"-100")),j.innerHTML=`${B}`,t.invaders.splice(A,1),u.splice(h,1),t.invaders.some(d=>d instanceof b)){const d=t.invaders[0],S=t.invaders[t.invaders.length-1];t.width=S.posititon.x-d.posititon.x+S.width,t.position.x=d.posititon.x}else y.splice(i,1),u.splice(0,u.length),v.splice(0,v.length),m.splice(0,m.length),E.splice(0,E.length),setTimeout(()=>{switch(x=x+1,W.innerHTML=`${x}`,x){case 2:E.push(new g(10),new g(300),new g(600),new g(o.width-143)),y.push(new I([[2,1,2,1,1,2,1,2,2,1,2,1,1],[2,1,2,2,1,2,1,1,2,1,2,2,1],[2,1,1,2,1,2,2,1,2,1,1,2,1],[2,2,1,2,1,1,2,1,2,2,1,2,1]],2,!0));return;case 3:E.push(new g(10),new g(300),new g(600),new g(o.width-143)),y.push(new I([[2,0,1,0,0,2,0,1,2,0,1,0,0],[2,0,1,2,0,1,0,0,2,0,1,2,0],[1,0,0,2,0,1,2,0,1,0,0,2,0],[1,2,0,1,0,0,2,0,1,2,0,1,0]],2,!0));return;case 4:E.push(new g(10),new g(300),new g(600),new g(o.width-143)),y.push(new I([[0,1,1,1,0,1,2,2,2,1,1,2,2],[2,1,1,2,2,2,1,1,2,2,2,1,1],[2,2,2,1,1,2,2,2,1,1,2,2,2],[1,1,2,2,2,1,1,2,2,2,1,1,2],[2,2,1,1,2,2,2,1,0,1,1,1,0]],1,!0));return;default:F(B,!0);return}},1e3)},0),x>1&&E.forEach(c=>{s.position.y-s.radius<=c.posititon.y+c.height&&s.position.x+s.radius>=c.posititon.x&&s.position.x-s.radius<=c.posititon.x+c.width&&s.position.y+s.radius>=c.posititon.y&&u.splice(h,1)})})})}),x>1&&E.forEach(t=>{t.update()}),O===0&&y.push(new I([[2,0,1,0,0,2,0,1,2,0,1,0,0],[2,0,1,2,0,1,0,0,2,0,1,2,0],[1,0,0,2,0,1,2,0,1,0,0,2,0],[1,2,0,1,0,0,2,0,1,2,0,1,0]],2,!0)),O++,(l.a.pressed||l.ArrowLeft.pressed)&&a.posititon.x>=0?a.velocity.x=-M:(l.d.pressed||l.ArrowRight.pressed)&&a.posititon.x+a.width<=o.width?a.velocity.x=M:a.velocity.x=0}function H(t){if(!p.over)switch(t.key){case"a":l.a.pressed=!1;return;case"d":l.d.pressed=!1;return;case"ArrowLeft":l.ArrowLeft.pressed=!1;return;case"ArrowRight":l.ArrowRight.pressed=!1;return}}function N(t){if(!p.over)switch(t.key){case"a":l.a.pressed=!0;return;case"d":l.d.pressed=!0;return;case"ArrowLeft":l.ArrowLeft.pressed=!0;return;case"ArrowRight":l.ArrowRight.pressed=!0;return;case" ":t.preventDefault(),u.push(new ct({position:{x:a.posititon.x+a.width/2,y:a.posititon.y},velocity:{x:0,y:-10}},o)),l.shoot.pressed=!0;return;case"p":p.over||(p.active=!p.active,k())}}function T(t){if(!p.over)switch(t.key){case"b":J(),addEventListener("keydown",L);break}}function L(t){switch(t.key){case"Enter":k(),f.classList.contains("hide")&&f.classList.remove("hide"),w.classList.contains("hide")&&w.classList.remove("hide"),removeEventListener("keydown",L),removeEventListener("keydown",T),addEventListener("keyup",H),addEventListener("keydown",N);break;case"p":_(),removeEventListener("keydown",L),addEventListener("keydown",T);break}}function q(){u.splice(0,u.length),v.splice(0,v.length),removeEventListener("keyup",H),removeEventListener("keydown",N),r.clearRect(0,0,o.width,o.height),F(B,!1)}addEventListener("keydown",L);p.over||J();X.addEventListener("submit",t=>{t.preventDefault();let i={};Object.values(X).reduce((e,A)=>(e[A.name]=A.value,i=e,e),{}),i=Object.fromEntries(Object.entries(i).filter(([e,A])=>A!=null)),i={...i,score:B},console.log(i)});
